*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#0f1117;--surface:#1a1d27;--surface2:#232734;--surface3:#2c3040;--border:#353a4f;--text:#e8eaf0;--text2:#9ba1b5;--text3:#6b7186;--accent:#6c8aff;--accent2:#4e6fe6;--green:#34d399;--yellow:#fbbf24;--red:#f87171;--orange:#fb923c;--radius:10px;--shadow:0 2px 12px rgba(0,0,0,.3)}
body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.5;min-height:100vh}
a{color:var(--accent);text-decoration:none}
button{cursor:pointer;font-family:inherit;border:none;border-radius:var(--radius);font-size:.875rem;padding:.5rem 1rem;transition:all .15s}
input,select,textarea{font-family:inherit;font-size:.875rem;background:var(--surface2);color:var(--text);border:1px solid var(--border);border-radius:var(--radius);padding:.5rem .75rem;width:100%;transition:border .15s}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent)}
textarea{resize:vertical;min-height:60px}
.btn{background:var(--accent);color:#fff;font-weight:600}.btn:hover{background:var(--accent2)}
.btn-ghost{background:transparent;color:var(--text2);border:1px solid var(--border)}.btn-ghost:hover{background:var(--surface2)}
.btn-sm{padding:.35rem .75rem;font-size:.8rem}
.btn-danger{background:var(--red);color:#fff}.btn-danger:hover{opacity:.85}
.btn-green{background:var(--green);color:#000}.btn-green:hover{opacity:.85}

/* Layout */
.app-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;border-bottom:1px solid var(--border);background:var(--surface)}
.app-header h1{font-size:1.2rem;font-weight:700;display:flex;align-items:center;gap:.5rem}
.app-header h1 span{font-size:1.4rem}
.container{max-width:1200px;margin:0 auto;padding:1.5rem}

/* Project List */
.project-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;margin-bottom:1.5rem}
.project-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;cursor:pointer;transition:all .15s;position:relative;overflow:hidden}
.project-card:hover{border-color:var(--accent);transform:translateY(-1px);box-shadow:var(--shadow)}
.project-card .creep-bar{position:absolute;bottom:0;left:0;height:3px;transition:width .3s}
.project-card h3{font-size:1rem;margin-bottom:.25rem}
.project-card .client{color:var(--text2);font-size:.8rem;margin-bottom:.75rem}
.project-card .stats{display:flex;gap:1rem;font-size:.8rem;color:var(--text2)}
.project-card .stats strong{color:var(--text)}
.add-project-card{background:var(--surface);border:2px dashed var(--border);border-radius:var(--radius);padding:2rem;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text3);font-size:.9rem;transition:all .15s}
.add-project-card:hover{border-color:var(--accent);color:var(--accent)}

/* Status Badge */
.badge{display:inline-block;padding:.15rem .5rem;border-radius:99px;font-size:.7rem;font-weight:600;text-transform:uppercase}
.badge-green{background:rgba(52,211,153,.15);color:var(--green)}
.badge-yellow{background:rgba(251,191,36,.15);color:var(--yellow)}
.badge-red{background:rgba(248,113,113,.15);color:var(--red)}
.badge-pending{background:rgba(108,138,255,.15);color:var(--accent)}
.badge-approved{background:rgba(52,211,153,.15);color:var(--green)}
.badge-rejected{background:rgba(248,113,113,.15);color:var(--red)}

/* Modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:100;padding:1rem;opacity:0;pointer-events:none;transition:opacity .2s}
.modal-overlay.active{opacity:1;pointer-events:all}
.modal{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);width:100%;max-width:560px;max-height:90vh;overflow-y:auto;padding:1.5rem}
.modal h2{font-size:1.1rem;margin-bottom:1rem}
.form-row{margin-bottom:.75rem}
.form-row label{display:block;font-size:.8rem;color:var(--text2);margin-bottom:.25rem;font-weight:500}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}
.form-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:1rem}

/* Project Detail */
.detail-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}
.detail-header h2{font-size:1.3rem}
.detail-header .meta{color:var(--text2);font-size:.85rem}
.back-btn{color:var(--text2);font-size:.85rem;display:inline-flex;align-items:center;gap:.25rem;margin-bottom:1rem;cursor:pointer}
.back-btn:hover{color:var(--text)}

/* Dashboard Cards */
.dash-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}
.dash-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem}
.dash-card .label{font-size:.75rem;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.25rem}
.dash-card .value{font-size:1.5rem;font-weight:700}
.dash-card .sub{font-size:.8rem;color:var(--text2);margin-top:.15rem}

/* Scope Creep Meter */
.creep-meter{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;margin-bottom:1.5rem}
.creep-meter h3{font-size:.85rem;color:var(--text2);margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.5px}
.meter-track{background:var(--surface2);border-radius:99px;height:28px;position:relative;overflow:hidden}
.meter-fill-orig{position:absolute;left:0;top:0;height:100%;background:var(--accent);border-radius:99px;transition:width .4s}
.meter-fill-creep{position:absolute;top:0;height:100%;border-radius:0 99px 99px 0;transition:all .4s}
.meter-labels{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.75rem;color:var(--text2)}
.creep-pct{font-size:2rem;font-weight:800;text-align:center;margin-bottom:.5rem}

/* Sections */
.section{margin-bottom:1.5rem}
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}
.section-header h3{font-size:1rem;font-weight:600}

/* Scope Items Table */
.scope-table{width:100%;border-collapse:collapse}
.scope-table th{text-align:left;font-size:.75rem;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;padding:.5rem;border-bottom:1px solid var(--border)}
.scope-table td{padding:.5rem;font-size:.85rem;border-bottom:1px solid var(--border)}
.scope-table tr:last-child td{border-bottom:none}
.scope-table .actions{white-space:nowrap;text-align:right}
.scope-table .actions button{padding:.2rem .5rem;font-size:.75rem}

/* Change Orders */
.co-list{display:flex;flex-direction:column;gap:.75rem}
.co-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem}
.co-card .co-header{display:flex;align-items:flex-start;justify-content:space-between;gap:.5rem;margin-bottom:.5rem}
.co-card .co-title{font-weight:600;font-size:.9rem}
.co-card .co-meta{display:flex;gap:1rem;font-size:.8rem;color:var(--text2);flex-wrap:wrap}
.co-card .co-actions{display:flex;gap:.35rem;margin-top:.75rem;flex-wrap:wrap}
.co-card .co-desc{font-size:.85rem;color:var(--text2);margin-bottom:.5rem}

/* Quick Add */
.quick-add{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1rem}
.quick-add h4{font-size:.85rem;margin-bottom:.75rem;color:var(--text2)}
.quick-add .qa-row{display:flex;gap:.5rem;flex-wrap:wrap}
.quick-add .qa-row input,.quick-add .qa-row select{flex:1;min-width:120px}
.quick-add .qa-row button{flex-shrink:0}

/* Client View */
.client-view{background:#fff;color:#1a1a1a;padding:2rem;border-radius:var(--radius);max-width:700px;margin:0 auto}
.client-view h2{font-size:1.3rem;border-bottom:2px solid #1a1a1a;padding-bottom:.5rem;margin-bottom:1rem}
.client-view table{width:100%;border-collapse:collapse;margin:1rem 0}
.client-view th,.client-view td{padding:.5rem;text-align:left;border-bottom:1px solid #ddd;font-size:.85rem}
.client-view th{font-weight:600;background:#f5f5f5}
.client-view .total-row{font-weight:700;font-size:1rem;border-top:2px solid #1a1a1a}
.client-view .sig{margin-top:2rem;padding-top:1rem;border-top:1px solid #ccc;display:flex;gap:2rem}
.client-view .sig-line{flex:1;border-bottom:1px solid #999;padding-bottom:.5rem;font-size:.8rem;color:#666}

/* Print */
.print-view{position:fixed;inset:0;background:var(--bg);z-index:200;overflow-y:auto;padding:1rem;display:none}
.print-view.active{display:block}
.print-actions{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}
@media print{
  .print-actions,.app-header{display:none!important}
  .print-view{position:static!important;display:block!important}
  .client-view{box-shadow:none}
  body{background:#fff}
}

/* Empty State */
.empty{text-align:center;padding:3rem 1rem;color:var(--text3)}
.empty .icon{font-size:2.5rem;margin-bottom:.5rem}
.empty p{font-size:.9rem}

/* Responsive */
@media(max-width:640px){
  .container{padding:1rem}
  .form-grid{grid-template-columns:1fr}
  .dash-grid{grid-template-columns:1fr 1fr}
  .project-list{grid-template-columns:1fr}
  .detail-header{flex-direction:column}
  .quick-add .qa-row{flex-direction:column}
  .quick-add .qa-row input,.quick-add .qa-row select{min-width:auto}
}

/* Animations */
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
.fade-in{animation:fadeIn .25s ease}

/* Scrollbar */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:3px}
