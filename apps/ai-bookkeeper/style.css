:root {
  --bg: #0f1117;
  --surface: #1a1d27;
  --surface2: #232736;
  --border: #2a2e3d;
  --text: #e4e6ed;
  --text2: #9399ab;
  --accent: #4f8cff;
  --accent2: #3b6fcc;
  --green: #34d399;
  --red: #f87171;
  --yellow: #fbbf24;
  --radius: 12px;
}

* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Inter',system-ui,-apple-system,sans-serif; background:var(--bg); color:var(--text); line-height:1.5; min-height:100vh; }
a { color:var(--accent); text-decoration:none; }
a:hover { text-decoration:underline; }

.container { max-width:1200px; margin:0 auto; padding:0 20px; }

/* CTA Banner */
.cta-banner { background:linear-gradient(135deg,#4f8cff 0%,#6c5ce7 100%); text-align:center; padding:12px 20px; font-size:.9rem; font-weight:500; }
.cta-banner a { color:#fff; font-weight:700; }

/* Header */
header { padding:28px 0 20px; border-bottom:1px solid var(--border); margin-bottom:28px; }
header h1 { font-size:1.6rem; font-weight:700; display:flex; align-items:center; gap:10px; }
header h1 span { font-size:1.4rem; }
header p { color:var(--text2); font-size:.85rem; margin-top:4px; }

/* Cards */
.card { background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:20px; }
.card h2 { font-size:1rem; font-weight:600; margin-bottom:14px; color:var(--text2); text-transform:uppercase; letter-spacing:.5px; font-size:.75rem; }

/* Dashboard */
.dashboard { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:16px; margin-bottom:24px; }
.stat { text-align:center; padding:22px 16px; }
.stat .value { font-size:1.8rem; font-weight:700; margin-bottom:2px; }
.stat .label { color:var(--text2); font-size:.8rem; text-transform:uppercase; letter-spacing:.5px; }
.stat.income .value { color:var(--green); }
.stat.expense .value { color:var(--red); }
.stat.net .value.positive { color:var(--green); }
.stat.net .value.negative { color:var(--red); }
.stat.margin .value { color:var(--yellow); }

/* Controls row */
.controls { display:flex; gap:12px; margin-bottom:24px; flex-wrap:wrap; align-items:center; }
.controls select, .controls input, .controls button { height:40px; border-radius:8px; border:1px solid var(--border); background:var(--surface); color:var(--text); padding:0 12px; font-size:.85rem; }
.controls select:focus, .controls input:focus { outline:none; border-color:var(--accent); }

/* Buttons */
.btn { display:inline-flex; align-items:center; gap:6px; padding:0 18px; height:40px; border-radius:8px; border:none; font-size:.85rem; font-weight:600; cursor:pointer; transition:.15s; }
.btn-primary { background:var(--accent); color:#fff; }
.btn-primary:hover { background:var(--accent2); }
.btn-secondary { background:var(--surface2); color:var(--text); border:1px solid var(--border); }
.btn-secondary:hover { border-color:var(--accent); }
.btn-danger { background:#dc2626; color:#fff; }
.btn-danger:hover { background:#b91c1c; }
.btn-sm { height:32px; padding:0 12px; font-size:.78rem; }

/* Form */
.form-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; align-items:end; }
.form-group label { display:block; font-size:.75rem; color:var(--text2); margin-bottom:4px; text-transform:uppercase; letter-spacing:.3px; }
.form-group input, .form-group select { width:100%; height:40px; border-radius:8px; border:1px solid var(--border); background:var(--surface2); color:var(--text); padding:0 12px; font-size:.85rem; }
.form-group input:focus, .form-group select:focus { outline:none; border-color:var(--accent); }

/* Sections grid */
.sections { display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:24px; }
@media(max-width:800px) { .sections { grid-template-columns:1fr; } }

/* Chart bars */
.bar-chart { display:flex; flex-direction:column; gap:8px; }
.bar-row { display:flex; align-items:center; gap:10px; font-size:.8rem; }
.bar-label { width:60px; text-align:right; color:var(--text2); flex-shrink:0; }
.bar-track { flex:1; height:22px; background:var(--surface2); border-radius:4px; overflow:hidden; position:relative; }
.bar-fill { height:100%; border-radius:4px; transition:width .4s; min-width:2px; }
.bar-fill.income { background:var(--green); }
.bar-fill.expense { background:var(--red); }
.bar-value { width:80px; font-size:.78rem; color:var(--text2); }

/* Category bars */
.cat-row { display:flex; align-items:center; gap:10px; font-size:.8rem; margin-bottom:6px; }
.cat-name { width:120px; text-align:right; color:var(--text2); flex-shrink:0; }
.cat-track { flex:1; height:18px; background:var(--surface2); border-radius:4px; overflow:hidden; }
.cat-fill { height:100%; background:var(--accent); border-radius:4px; transition:width .4s; min-width:2px; }
.cat-pct { width:50px; font-size:.75rem; color:var(--text2); }
.cat-amt { width:70px; font-size:.75rem; color:var(--text); text-align:right; }

/* Table */
.table-wrap { overflow-x:auto; margin-top:12px; }
table { width:100%; border-collapse:collapse; font-size:.83rem; }
th { text-align:left; padding:10px 12px; color:var(--text2); font-weight:600; font-size:.72rem; text-transform:uppercase; letter-spacing:.5px; border-bottom:1px solid var(--border); }
td { padding:10px 12px; border-bottom:1px solid var(--border); }
tr:hover { background:var(--surface2); }
.type-income { color:var(--green); font-weight:600; }
.type-expense { color:var(--red); font-weight:600; }
.actions-cell { display:flex; gap:6px; }

/* CSV area */
.csv-area { width:100%; min-height:100px; border-radius:8px; border:1px solid var(--border); background:var(--surface2); color:var(--text); padding:12px; font-family:monospace; font-size:.8rem; resize:vertical; margin-bottom:12px; }
.csv-area:focus { outline:none; border-color:var(--accent); }

/* OpenAI toggle */
.toggle-row { display:flex; align-items:center; gap:10px; font-size:.83rem; margin-bottom:16px; }
.toggle { position:relative; width:44px; height:24px; }
.toggle input { opacity:0; width:0; height:0; }
.toggle .slider { position:absolute; inset:0; background:var(--surface2); border-radius:12px; cursor:pointer; transition:.2s; border:1px solid var(--border); }
.toggle .slider:before { content:''; position:absolute; width:18px; height:18px; border-radius:50%; background:#fff; left:2px; top:2px; transition:.2s; }
.toggle input:checked+.slider { background:var(--accent); border-color:var(--accent); }
.toggle input:checked+.slider:before { transform:translateX(20px); }
.openai-config { margin-top:10px; display:none; }
.openai-config.show { display:block; }
.openai-config input { width:100%; height:36px; border-radius:8px; border:1px solid var(--border); background:var(--surface2); color:var(--text); padding:0 12px; font-size:.83rem; }

/* Modal */
.modal-overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,.6); z-index:100; align-items:center; justify-content:center; }
.modal-overlay.show { display:flex; }
.modal { background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:24px; width:90%; max-width:500px; }
.modal h3 { margin-bottom:16px; }

/* Responsive */
@media(max-width:600px) {
  .dashboard { grid-template-columns:1fr 1fr; }
  .stat .value { font-size:1.3rem; }
  .form-grid { grid-template-columns:1fr; }
  header h1 { font-size:1.2rem; }
  .controls { flex-direction:column; }
  .controls select, .controls input, .controls button { width:100%; }
}

/* Empty state */
.empty { text-align:center; padding:40px 20px; color:var(--text2); }
.empty span { font-size:2rem; display:block; margin-bottom:8px; }
